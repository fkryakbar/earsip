import{b as Z,r as f,u as H,j as t,W as U}from"./app-tlQEwt67.js";import{u as J}from"./index-BMsYSvsX.js";import{m as K,a as G,b as X,c as q}from"./chunk-P2T5LMDM-DuiA-Tvd.js";import{t as Q,p as Y,q as ee,e as D,m as te,u as ae,a as re,o as se,s as le,h as T,f as ie,n as k,l as ne}from"./chunk-T5T2WLXQ-eNajKdBS.js";import{c as oe}from"./chunk-KBN3H6OQ-CjB5ivCW.js";import{$ as de,s as ce,l as ue}from"./chunk-X3QO5D2J-CIulcZfT.js";import"./SelectionManager-w2UYQ4sH.js";let P=new Map,N=!1;try{N=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let y=!1;try{y=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const O={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class me{format(e){let a="";if(!N&&this.options.signDisplay!=null?a=pe(this.numberFormatter,this.options.signDisplay,e):a=this.numberFormatter.format(e),this.options.style==="unit"&&!y){var i;let{unit:s,unitDisplay:l="short",locale:n}=this.resolvedOptions();if(!s)return a;let o=(i=O[s])===null||i===void 0?void 0:i[l];a+=o[n]||o.default}return a}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,a){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,a);if(a<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(a)}`}formatRangeToParts(e,a){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,a);if(a<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),s=this.numberFormatter.formatToParts(a);return[...i.map(l=>({...l,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(l=>({...l,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!N&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!y&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,a={}){this.numberFormatter=fe(e,a),this.options=a}}function fe(r,e={}){let{numberingSystem:a}=e;if(a&&r.includes("-nu-")&&(r.includes("-u-")||(r+="-u-"),r+=`-nu-${a}`),e.style==="unit"&&!y){var i;let{unit:n,unitDisplay:o="short"}=e;if(!n)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=O[n])===null||i===void 0)&&i[o]))throw new Error(`Unsupported unit ${n} with unitDisplay = ${o}`);e={...e,style:"decimal"}}let s=r+(e?Object.entries(e).sort((n,o)=>n[0]<o[0]?-1:1).join():"");if(P.has(s))return P.get(s);let l=new Intl.NumberFormat(r,e);return P.set(s,l),l}function pe(r,e,a){if(e==="auto")return r.format(a);if(e==="never")return r.format(Math.abs(a));{let i=!1;if(e==="always"?i=a>0||Object.is(a,0):e==="exceptZero"&&(Object.is(a,-0)||Object.is(a,0)?a=Math.abs(a):i=a>0),i){let s=r.format(-a),l=r.format(a),n=s.replace(l,"").replace(/\u200e|\u061C/,"");return[...n].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(l,"!!!").replace(n,"+").replace("!!!",l)}else return r.format(a)}}function be(r={}){let{locale:e}=Z();return f.useMemo(()=>new me(e,r),[e,r])}var L=Q({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient bg-[length:1.25rem_1.25rem]"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}}]},{twMerge:!0});function ge(r={}){const{rerender:e=!1,delay:a=0}=r,i=f.useRef(!1),[s,l]=f.useState(!1);return f.useEffect(()=>{i.current=!0;let n=null;return e&&(a>0?n=setTimeout(()=>{l(!0)},a):l(!0)),()=>{i.current=!1,e&&l(!1),n&&clearTimeout(n)}},[e]),[f.useCallback(()=>i.current,[]),s]}function he(r){let{value:e=0,minValue:a=0,maxValue:i=100,valueLabel:s,isIndeterminate:l,formatOptions:n={style:"percent"}}=r,o=Y(r,{labelable:!0}),{labelProps:c,fieldProps:m}=ee({...r,labelElementType:"span"});e=de(e,a,i);let u=(e-a)/(i-a),p=be(n);if(!l&&!s){let h=n.style==="percent"?u:e;s=p.format(h)}return{progressBarProps:D(o,{...m,"aria-valuenow":l?void 0:e,"aria-valuemin":a,"aria-valuemax":i,"aria-valuetext":l?void 0:s,role:"progressbar"}),labelProps:c}}function xe(r){var e,a;const i=H(),[s,l]=te(r,L.variantKeys),{ref:n,as:o,id:c,className:m,classNames:u,label:p,valueLabel:h,value:b=0,minValue:d=0,maxValue:g=100,showValueLabel:A=!1,formatOptions:E={style:"percent"},...M}=s,I=o||"div",j=ae(n),F=re(u==null?void 0:u.base,m),[,V]=ge({rerender:!0,delay:100}),x=r.isIndeterminate,w=(a=(e=r.disableAnimation)!=null?e:i==null?void 0:i.disableAnimation)!=null?a:!1,{progressBarProps:C,labelProps:R}=he({id:c,label:p,value:b,minValue:d,maxValue:g,valueLabel:h,formatOptions:E,isIndeterminate:x,"aria-labelledby":r["aria-labelledby"],"aria-label":r["aria-label"]}),v=f.useMemo(()=>L({...l,disableAnimation:w}),[se(l),w]),_=w?!0:V,W=f.useMemo(()=>x||!_?void 0:le((b-d)/(g-d)*100),[_,x,b,d,g]),z=f.useCallback(($={})=>({ref:j,"data-indeterminate":T(x),"data-disabled":T(r.isDisabled),className:v.base({class:F}),...D(C,M,$)}),[j,v,x,r.isDisabled,F,C,M]),B=f.useCallback(($={})=>({className:v.label({class:u==null?void 0:u.label}),...D(R,$)}),[v,u,R]);return{Component:I,domRef:j,slots:v,classNames:u,label:p,percentage:W,showValueLabel:A,getProgressBarProps:z,getLabelProps:B}}var S=ie((r,e)=>{const{Component:a,slots:i,classNames:s,label:l,percentage:n,showValueLabel:o,getProgressBarProps:c,getLabelProps:m}=xe({...r,ref:e}),u=c(),p=l||o;return t.jsxs(a,{...u,children:[p?t.jsxs("div",{className:i.labelWrapper({class:s==null?void 0:s.labelWrapper}),children:[l&&t.jsx("span",{...m(),children:l}),o&&t.jsx("span",{className:i.value({class:s==null?void 0:s.value}),children:u["aria-valuetext"]})]}):null,t.jsx("div",{className:i.track({class:s==null?void 0:s.track}),children:t.jsx("div",{className:i.indicator({class:s==null?void 0:s.indicator}),style:{transform:`translateX(-${100-(n||0)}%)`}})})]})});S.displayName="NextUI.Progress";var ve=S;function Ne({categories:r}){const{isOpen:e,onOpen:a,onOpenChange:i}=J(),{setData:s,data:l,processing:n,post:o,errors:c,progress:m,reset:u,recentlySuccessful:p}=U({title:"",description:"",category_id:"",file:"",sameWithTitle:!1}),h=b=>{b.preventDefault(),o(route("upload"),{onSuccess:()=>{u("category_id","title","description","file")}})};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(k,{variant:"bordered",onPress:()=>{window.location.href="https://drive.google.com/drive/folders/1RS9av0dl-z-vZyuLSSwhP-XUCyGufzp-?usp=sharing"},children:t.jsx("img",{src:"/assets/google-drive.png",alt:"",className:"w-[25px]"})}),t.jsxs(k,{onPress:a,className:"bg-blue-500 text-white font-semibold",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),"Tambah"]})]}),t.jsx(K,{size:"5xl",isOpen:e,onOpenChange:i,children:t.jsx(G,{children:b=>t.jsxs(t.Fragment,{children:[t.jsx(X,{className:"flex flex-col gap-1",children:"Tambah Dokumen"}),t.jsxs(q,{children:[p?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-green-200 text-green-700 font-semibold p-4 rounded-md flex items-center gap-3",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:t.jsx("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),"Dokumen Berhasil diupload"]})}):null,t.jsxs("form",{onSubmit:h,children:[t.jsx(ne,{type:"Judul Dokumen",value:l.title,onChange:d=>s("title",d.target.value),variant:"bordered",label:"Judul",labelPlacement:"outside",placeholder:"Masukkan Judul",size:"lg",isDisabled:l.sameWithTitle,errorMessage:c.title,isInvalid:!!c.title}),t.jsx(oe,{className:"mt-1",checked:l.sameWithTitle,onChange:d=>s("sameWithTitle",!l.sameWithTitle),children:"Samakan dengan nama file"}),t.jsx("label",{htmlFor:"message",className:`block mb-2 text-sm text-gray-900 mt-[20px] ${c.description?"text-red-500":""}`,children:"Deksripsi Dokumen"}),t.jsx("textarea",{id:"message",value:l.description,onChange:d=>s("description",d.target.value),rows:4,className:`block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-black focus:border-black ${c.description?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500  focus:border-red-500":""}`,placeholder:"Masukkan deskripsi Dokumen untuk mempermudah pencarian",disabled:n}),t.jsx("p",{className:"mb-[40px] text-sm text-red-600 dark:text-red-500",children:c.description}),t.jsx(ce,{items:r,label:"Ketegori",placeholder:"Pilih Kategori",variant:"bordered",className:"max-w-xs",labelPlacement:"outside",onChange:d=>s("category_id",d.target.value),isDisabled:n,errorMessage:c.category_id,isInvalid:!!c.category_id,value:l.category_id,children:d=>t.jsx(ue,{value:d.id,children:d.name},d.id)}),t.jsx("label",{className:`block mb-2 text-sm text-gray-900 mt-[20px] ${c.file?"text-red-500":""}`,htmlFor:"file_input",children:"Upload file"}),t.jsx("input",{onChange:d=>{var g;return s("file",(g=d.target.files)==null?void 0:g[0])},className:`block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none ${c.file?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500  focus:border-red-500":""}`,id:"file_input",type:"file",disabled:n}),t.jsx("p",{className:"text-sm text-red-600 dark:text-red-500",children:c.file}),n?t.jsxs(t.Fragment,{children:[t.jsx(ve,{"aria-label":"Loading...",value:m==null?void 0:m.percentage,className:"mt-5"}),(m==null?void 0:m.percentage)==100?t.jsx(t.Fragment,{children:t.jsx("p",{className:"text-sm text-gray-500 mt-2 font-semibold",children:"Mengunggah ke Google Drive"})}):t.jsx(t.Fragment,{children:t.jsx("p",{className:"text-sm text-gray-500 mt-2 font-semibold",children:"Mengunggah ke Server"})})]}):null,t.jsx("div",{className:"flex justify-end my-5",children:t.jsxs(k,{type:"submit",color:"primary",disabled:n,isLoading:n,children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),"Upload"]})})]})]})]})})})]})}export{Ne as default};
