import{r as c,W as _,j as e}from"./app-B4vqR_NT.js";import{m as w,a as h,b as v,c as N}from"./chunk-P2T5LMDM-CmB_IQCp.js";import{l as D,n as x}from"./chunk-T5T2WLXQ-DxYbvdww.js";import{s as p,l as d}from"./chunk-X3QO5D2J-CTNQSCE-.js";import"./SelectionManager-DwOZrZzB.js";function K({archive:i,categories:n,isOpen:b,onOpenChange:g,onClose:C}){const[s,f]=c.useState(i),{setData:a,data:l,processing:o,patch:j,errors:r,progress:M,reset:P,recentlySuccessful:y}=_({title:s==null?void 0:s.title,description:s==null?void 0:s.description,category_id:s==null?void 0:s.category_id,visibility:s==null?void 0:s.visibility}),k=m=>{m.preventDefault(),j(route("updateArchive",{file_id:s==null?void 0:s.file_id}))};return c.useEffect(()=>{f(i),a({title:i==null?void 0:i.title,description:i==null?void 0:i.description,category_id:i==null?void 0:i.category_id,visibility:i==null?void 0:i.visibility})},[i]),e.jsx(e.Fragment,{children:e.jsx(w,{size:"5xl",isOpen:b,onOpenChange:g,children:e.jsx(h,{children:m=>{var u;return e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"flex flex-col gap-1",children:"Update Dokumen"}),e.jsxs(N,{children:[y?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-green-200 text-green-700 font-semibold p-4 rounded-md flex items-center gap-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:e.jsx("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),"Dokumen Berhasil diperbarui"]})}):null,e.jsxs("form",{onSubmit:k,children:[e.jsx(D,{type:"Judul Dokumen",value:l==null?void 0:l.title,onChange:t=>a("title",t.target.value),variant:"bordered",label:"Judul",labelPlacement:"outside",placeholder:"Masukkan Judul",size:"lg",errorMessage:r.title,isInvalid:!!r.title}),e.jsx("label",{htmlFor:"message",className:`block mb-2 text-sm text-gray-900 mt-[20px] ${r.description?"text-red-500":""}`,children:"Deksripsi Dokumen"}),e.jsx("textarea",{id:"message",value:l==null?void 0:l.description,onChange:t=>a("description",t.target.value),rows:4,className:`block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-black focus:border-black ${r.description?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500  focus:border-red-500":""}`,placeholder:"Masukkan deskripsi Dokumen untuk mempermudah pencarian",disabled:o}),e.jsx("p",{className:"mb-[20px] text-sm text-red-600 dark:text-red-500",children:r.description}),e.jsxs("div",{className:"flex flex-col gap-2 justify-center items-center w-[200px] p-4 rounded border-[1px] border-slate-300 mb-10 text-slate-600",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-16",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),e.jsx(x,{className:"w-fit",color:"primary",size:"sm",onPress:()=>window.location.href=route("stream",{file_id:s==null?void 0:s.file_id}),children:"Buka"})]}),e.jsx(p,{items:n,label:"Ketegori",placeholder:"Pilih Kategori",variant:"bordered",className:"max-w-xs",labelPlacement:"outside",onChange:t=>a("category_id",t.target.value),isDisabled:o,errorMessage:r.category_id,isInvalid:!!r.category_id,value:l==null?void 0:l.category_id,selectedKeys:[(u=l==null?void 0:l.category_id)==null?void 0:u.toString()],children:t=>e.jsx(d,{value:t.id,children:t.name},t.id)}),e.jsx("div",{className:"my-10"}),e.jsxs(p,{items:n,label:"Visibilitas",placeholder:"Pilih Visibilitas",variant:"bordered",className:"max-w-xs",labelPlacement:"outside",onChange:t=>a("visibility",t.target.value),isDisabled:o,errorMessage:r.visibility,isInvalid:!!r.visibility,value:l==null?void 0:l.visibility,selectedKeys:[l==null?void 0:l.visibility],children:[e.jsx(d,{value:"private",children:"Private"},"private"),e.jsx(d,{value:"public",children:"Public"},"public")]}),e.jsx("div",{className:"flex justify-end my-5",children:e.jsxs(x,{type:"submit",color:"primary",disabled:o,isLoading:o,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),"Perbarui"]})})]})]})]})}})})})}export{K as default};
