import{b as U,r as f,u as J,j as t,W as K}from"./app-B4vqR_NT.js";import{u as G}from"./index-CwQspgEX.js";import{m as X,a as q,b as Q,c as Y}from"./chunk-P2T5LMDM-CmB_IQCp.js";import{t as ee,p as te,q as ae,e as N,m as re,u as se,a as le,o as ie,s as ne,h as L,f as oe,n as k,l as de}from"./chunk-T5T2WLXQ-DxYbvdww.js";import{c as ce}from"./chunk-KBN3H6OQ-iocVKnAj.js";import{$ as ue,s as O,l as P}from"./chunk-X3QO5D2J-CTNQSCE-.js";import"./SelectionManager-DwOZrZzB.js";let D=new Map,M=!1;try{M=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let y=!1;try{y=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const V={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class me{format(e){let a="";if(!M&&this.options.signDisplay!=null?a=be(this.numberFormatter,this.options.signDisplay,e):a=this.numberFormatter.format(e),this.options.style==="unit"&&!y){var i;let{unit:s,unitDisplay:l="short",locale:n}=this.resolvedOptions();if(!s)return a;let c=(i=V[s])===null||i===void 0?void 0:i[l];a+=c[n]||c.default}return a}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,a){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,a);if(a<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(a)}`}formatRangeToParts(e,a){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,a);if(a<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),s=this.numberFormatter.formatToParts(a);return[...i.map(l=>({...l,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(l=>({...l,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!M&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!y&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,a={}){this.numberFormatter=fe(e,a),this.options=a}}function fe(r,e={}){let{numberingSystem:a}=e;if(a&&r.includes("-nu-")&&(r.includes("-u-")||(r+="-u-"),r+=`-nu-${a}`),e.style==="unit"&&!y){var i;let{unit:n,unitDisplay:c="short"}=e;if(!n)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=V[n])===null||i===void 0)&&i[c]))throw new Error(`Unsupported unit ${n} with unitDisplay = ${c}`);e={...e,style:"decimal"}}let s=r+(e?Object.entries(e).sort((n,c)=>n[0]<c[0]?-1:1).join():"");if(D.has(s))return D.get(s);let l=new Intl.NumberFormat(r,e);return D.set(s,l),l}function be(r,e,a){if(e==="auto")return r.format(a);if(e==="never")return r.format(Math.abs(a));{let i=!1;if(e==="always"?i=a>0||Object.is(a,0):e==="exceptZero"&&(Object.is(a,-0)||Object.is(a,0)?a=Math.abs(a):i=a>0),i){let s=r.format(-a),l=r.format(a),n=s.replace(l,"").replace(/\u200e|\u061C/,"");return[...n].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),s.replace(l,"!!!").replace(n,"+").replace("!!!",l)}else return r.format(a)}}function pe(r={}){let{locale:e}=U();return f.useMemo(()=>new me(e,r),[e,r])}var S=ee({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient bg-[length:1.25rem_1.25rem]"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}}]},{twMerge:!0});function ge(r={}){const{rerender:e=!1,delay:a=0}=r,i=f.useRef(!1),[s,l]=f.useState(!1);return f.useEffect(()=>{i.current=!0;let n=null;return e&&(a>0?n=setTimeout(()=>{l(!0)},a):l(!0)),()=>{i.current=!1,e&&l(!1),n&&clearTimeout(n)}},[e]),[f.useCallback(()=>i.current,[]),s]}function he(r){let{value:e=0,minValue:a=0,maxValue:i=100,valueLabel:s,isIndeterminate:l,formatOptions:n={style:"percent"}}=r,c=te(r,{labelable:!0}),{labelProps:d,fieldProps:m}=ae({...r,labelElementType:"span"});e=ue(e,a,i);let u=(e-a)/(i-a),b=pe(n);if(!l&&!s){let h=n.style==="percent"?u:e;s=b.format(h)}return{progressBarProps:N(c,{...m,"aria-valuenow":l?void 0:e,"aria-valuemin":a,"aria-valuemax":i,"aria-valuetext":l?void 0:s,role:"progressbar"}),labelProps:d}}function xe(r){var e,a;const i=J(),[s,l]=re(r,S.variantKeys),{ref:n,as:c,id:d,className:m,classNames:u,label:b,valueLabel:h,value:p=0,minValue:o=0,maxValue:g=100,showValueLabel:E=!1,formatOptions:I={style:"percent"},...C}=s,W=c||"div",j=se(n),F=le(u==null?void 0:u.base,m),[,z]=ge({rerender:!0,delay:100}),x=r.isIndeterminate,w=(a=(e=r.disableAnimation)!=null?e:i==null?void 0:i.disableAnimation)!=null?a:!1,{progressBarProps:R,labelProps:_}=he({id:d,label:b,value:p,minValue:o,maxValue:g,valueLabel:h,formatOptions:I,isIndeterminate:x,"aria-labelledby":r["aria-labelledby"],"aria-label":r["aria-label"]}),v=f.useMemo(()=>S({...l,disableAnimation:w}),[ie(l),w]),T=w?!0:z,B=f.useMemo(()=>x||!T?void 0:ne((p-o)/(g-o)*100),[T,x,p,o,g]),Z=f.useCallback(($={})=>({ref:j,"data-indeterminate":L(x),"data-disabled":L(r.isDisabled),className:v.base({class:F}),...N(R,C,$)}),[j,v,x,r.isDisabled,F,R,C]),H=f.useCallback(($={})=>({className:v.label({class:u==null?void 0:u.label}),...N(_,$)}),[v,u,_]);return{Component:W,domRef:j,slots:v,classNames:u,label:b,percentage:B,showValueLabel:E,getProgressBarProps:Z,getLabelProps:H}}var A=oe((r,e)=>{const{Component:a,slots:i,classNames:s,label:l,percentage:n,showValueLabel:c,getProgressBarProps:d,getLabelProps:m}=xe({...r,ref:e}),u=d(),b=l||c;return t.jsxs(a,{...u,children:[b?t.jsxs("div",{className:i.labelWrapper({class:s==null?void 0:s.labelWrapper}),children:[l&&t.jsx("span",{...m(),children:l}),c&&t.jsx("span",{className:i.value({class:s==null?void 0:s.value}),children:u["aria-valuetext"]})]}):null,t.jsx("div",{className:i.track({class:s==null?void 0:s.track}),children:t.jsx("div",{className:i.indicator({class:s==null?void 0:s.indicator}),style:{transform:`translateX(-${100-(n||0)}%)`}})})]})});A.displayName="NextUI.Progress";var ve=A;function Ne({categories:r}){const{isOpen:e,onOpen:a,onOpenChange:i}=G(),{setData:s,data:l,processing:n,post:c,errors:d,progress:m,reset:u,recentlySuccessful:b}=K({title:"",description:"",category_id:"",file:"",visibility:"",sameWithTitle:!1}),h=p=>{p.preventDefault(),c(route("upload"),{onSuccess:()=>{u("category_id","title","description","file","visibility")}})};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(k,{variant:"bordered",onPress:()=>{window.location.href="https://drive.google.com/drive/folders/1RS9av0dl-z-vZyuLSSwhP-XUCyGufzp-?usp=sharing"},children:t.jsx("img",{src:"/assets/google-drive.png",alt:"",className:"w-[25px]"})}),t.jsxs(k,{onPress:a,className:"bg-blue-500 text-white font-semibold",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),"Tambah"]})]}),t.jsx(X,{size:"5xl",isOpen:e,onOpenChange:i,children:t.jsx(q,{children:p=>t.jsxs(t.Fragment,{children:[t.jsx(Q,{className:"flex flex-col gap-1",children:"Tambah Dokumen"}),t.jsxs(Y,{children:[b?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-green-200 text-green-700 font-semibold p-4 rounded-md flex items-center gap-3",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:t.jsx("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),"Dokumen Berhasil diupload"]})}):null,t.jsxs("form",{onSubmit:h,children:[t.jsx(de,{type:"Judul Dokumen",value:l.title,onChange:o=>s("title",o.target.value),variant:"bordered",label:"Judul",labelPlacement:"outside",placeholder:"Masukkan Judul",size:"lg",isDisabled:l.sameWithTitle,errorMessage:d.title,isInvalid:!!d.title}),t.jsx(ce,{className:"mt-1",checked:l.sameWithTitle,onChange:o=>s("sameWithTitle",!l.sameWithTitle),children:"Samakan dengan nama file"}),t.jsx("label",{htmlFor:"message",className:`block mb-2 text-sm text-gray-900 mt-[20px] ${d.description?"text-red-500":""}`,children:"Deksripsi Dokumen"}),t.jsx("textarea",{id:"message",value:l.description,onChange:o=>s("description",o.target.value),rows:4,className:`block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-black focus:border-black ${d.description?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500  focus:border-red-500":""}`,placeholder:"Masukkan deskripsi Dokumen untuk mempermudah pencarian",disabled:n}),t.jsx("p",{className:"mb-[40px] text-sm text-red-600 dark:text-red-500",children:d.description}),t.jsx(O,{items:r,label:"Ketegori",placeholder:"Pilih Kategori",variant:"bordered",className:"max-w-xs",labelPlacement:"outside",onChange:o=>s("category_id",o.target.value),isDisabled:n,errorMessage:d.category_id,isInvalid:!!d.category_id,value:l.category_id,children:o=>t.jsx(P,{value:o.id,children:o.name},o.id)}),t.jsx("div",{className:"my-10"}),t.jsxs(O,{items:r,label:"Visibilitas",placeholder:"Pilih Visibilitas",variant:"bordered",className:"max-w-xs",labelPlacement:"outside",onChange:o=>s("visibility",o.target.value),isDisabled:n,errorMessage:d.visibility,isInvalid:!!d.visibility,value:l.visibility,children:[t.jsx(P,{value:"private",children:"Private"},"private"),t.jsx(P,{value:"public",children:"Public"},"public")]}),t.jsx("label",{className:`block mb-2 text-sm text-gray-900 mt-[20px] ${d.file?"text-red-500":""}`,htmlFor:"file_input",children:"Upload file"}),t.jsx("input",{onChange:o=>{var g;return s("file",(g=o.target.files)==null?void 0:g[0])},className:`block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none ${d.file?"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500  focus:border-red-500":""}`,id:"file_input",type:"file",disabled:n}),t.jsx("p",{className:"text-sm text-red-600 dark:text-red-500",children:d.file}),n?t.jsxs(t.Fragment,{children:[t.jsx(ve,{"aria-label":"Loading...",value:m==null?void 0:m.percentage,className:"mt-5"}),(m==null?void 0:m.percentage)==100?t.jsx(t.Fragment,{children:t.jsx("p",{className:"text-sm text-gray-500 mt-2 font-semibold",children:"Mengunggah ke Google Drive"})}):t.jsx(t.Fragment,{children:t.jsx("p",{className:"text-sm text-gray-500 mt-2 font-semibold",children:"Mengunggah ke Server"})})]}):null,t.jsx("div",{className:"flex justify-end my-5",children:t.jsxs(k,{type:"submit",color:"primary",disabled:n,isLoading:n,children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),"Upload"]})})]})]})]})})})]})}export{Ne as default};
